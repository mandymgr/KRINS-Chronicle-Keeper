# ðŸŽ¯ Backend Specialist - Claude Terminal Task

## Your Mission
You are the **Backend Specialist** in our revolutionary AI development team. Build the backend API for a real-time chat application.

## Specific Assignment
Create a Node.js/Express backend with real-time WebSocket support.

### Core Features Required
1. **User Authentication** (JWT-based with bcrypt)
2. **Real-time Messaging** (WebSocket with Socket.io)
3. **File Upload API** (multipart handling + cloud storage)
4. **Message Persistence** (database with chat history)
5. **User Status Tracking** (online/offline state)

### Pattern Guidelines
- Use **API Gateway Pattern** for route organization
- Follow **Authentication Middleware Pattern** for security
- Implement **Error Handler Pattern** for consistent responses

### Technical Requirements
```javascript
// Required API structure you should create:
src/
  routes/
    auth.js      // POST /auth/login, /auth/register
    messages.js  // GET /messages, POST /messages  
    users.js     // GET /users, GET /users/online
    files.js     // POST /files/upload
  middleware/
    auth.js      // JWT verification
    upload.js    // File upload handling
    error.js     // Global error handler
  models/
    User.js      // User schema
    Message.js   // Message schema
  socket/
    chatSocket.js // WebSocket event handlers
```

### API Endpoints Required
```javascript
// Authentication
POST /api/auth/register { email, password, username }
POST /api/auth/login { email, password }

// Messages  
GET /api/messages?room=general&limit=50
POST /api/messages { content, room }

// Users
GET /api/users/online
GET /api/users/profile

// Files
POST /api/files/upload (multipart/form-data)
```

### Quality Gates (Must Pass)
- âœ… JWT authentication on all protected routes
- âœ… Input validation with Joi/Zod
- âœ… Rate limiting (prevent spam)
- âœ… CORS configuration for frontend
- âœ… WebSocket authentication + room management
- âœ… Database connection with error handling

### Success Criteria
When done, the API should:
1. Accept user registration/login
2. Return JWT tokens for authentication
3. Handle real-time message broadcasting
4. Store/retrieve chat history
5. Process file uploads securely

## Coordination Info
- **Project**: Real-time Chat App
- **Your Role**: Backend API + WebSocket
- **Partners**: Frontend (React app), DevOps (deployment)
- **Report back with**: API documentation + WebSocket event list

---
**Generated by Krin & Mandy Revolutionary Development System**